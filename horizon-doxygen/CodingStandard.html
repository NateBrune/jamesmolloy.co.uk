<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Horizon: Horizon C++ Coding Standard</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>Horizon C++ Coding Standard </h1>  </div>
</div>
<div class="contents">
<p>Please note that throughout this file all closing C-comment delimiters are written <code>* /</code> and all opening doxygen comment blocks <code>/* </code>.</p>
<p>This extra space (and lack of extra asterisk in the opening delimiter) is due to the fact that this manual is itself written in doxygen, and as such cannot either end C comments or start a new doxygen comment block.</p>
<p>The added-space notation should <b>not</b> be used in actual code!</p>
<h2><a class="anchor" id="File"></a>
File naming</h2>
<p>The file extensions that should be used are <code></code>.h and <code></code>.cc.</p>
<p>Public class definitions should have their own header file, named <code>classname.h</code>. All implementation of a class should be kept within a source file named <code>classname.cc</code>.</p>
<p>Source files that contain other code (that is not within a class) should be given an appropriate name in lower-case, for a example a file containing the main function of a program would probably be called <code>main.cc</code>.</p>
<h2><a class="anchor" id="Naming"></a>
Naming convention</h2>
<p>Class names and function names should use <code>UpperCamelCase</code>. Variable/argument names should use <code>lower_case_with_underscores</code>, with member variables prefixed with <code>m_</code>. Macros should be in caps, seperated by underscores.</p>
<h2><a class="anchor" id="Indentation"></a>
Indentation</h2>
<p>Most of the time you should use tabs for indentation. Each block of code should be indented by one tab. Exceptions to this rule are access level keywords (<code>public</code>, <code>protected</code>, <code>private</code>, <code>friend</code>) within class definitions, which should be at the same indentation level as the <code>class</code> keyword, and within <code>switch</code> statements the <code>case</code> keywords should be at the same level as the <code>switch</code> keyword.</p>
<p>Empty lines should remain empty, and not have useless indentation on.</p>
<p>The only time spaces should be used for indentation is when you split one line into multiple lines (which should be done if the line gets much over 80 characters long (this is not a strict rule - if a line exceeds 80 characters by a little bit, it does not have to be split). In this case, you should use tabs to indent up to where the start of the line is, and then use spaces to indent as appropriate after that.</p>
<h2><a class="anchor" id="Documentation"></a>
Documentation/Commenting</h2>
<p>Code should be well-commented, using the <code>/* * /</code> style rather than <code>//</code>. For example:</p>
<div class="fragment"><pre class="fragment">    <span class="comment">/* Single-line comment. * /</span>
<span class="comment"></span>
<span class="comment">    /* Multi-line comment that contains a lot of useless content just so that</span>
<span class="comment">       I can demonstrate how multi-line comments should be formatted. * /</span>
</pre></div><p>Source code should be documented using Doxygen comments. For functions, the documentation should be placed in a header above their prototype (or above their implementation, if they do not have a prototype in any headers) with the following format. Note how alignment is done (with spaces).</p>
<div class="fragment"><pre class="fragment">    <span class="comment">/* Brief description of function.</span>
<span class="comment">       @note       Notes, if any.</span>
<span class="comment">       @param num  A random number.</span>
<span class="comment">       @param addr Address of something.</span>
<span class="comment">       @return     A value that I made up. * /</span>
</pre></div><p>You should also use the `@ bug`, `@ todo` and `@ note` commands in the function documentation to mark any known bugs, things that have not been implemented yet and notes about how the function should be used or things the function does.</p>
<p>At the top of each source file there should be a comment containing an author line for each person who has edited the file, and a brief description of it.</p>
<div class="fragment"><pre class="fragment">    <span class="comment">/* @file   &lt;name of file&gt;</span>
<span class="comment">       @author Author Name &lt;author@email.address&gt;</span>
<span class="comment">       @author Other Author &lt;other@email.address&gt;</span>
<span class="comment">       @brief  Brief description of the file. * /</span>
</pre></div><h2><a class="anchor" id="Other"></a>
Other points</h2>
<ul>
<li>There should not be a space between an if/while/for/etc. and the bracket, e.g. <code>if(foo == 0) {</code>, not <code>if (foo == 0) {</code>.</li>
<li>Braces should <em>not</em> be omitted for one-line blocks.</li>
<li>Braces should not have a separate line, except when an initialiser list is spread over multiple lines (see example). This exception is so that you can see where the initialiser list ends and the main code of the constructor starts.</li>
<li>For <code>else</code>, <code>catch</code> and similar statements, use <code>} else {</code>.</li>
<li>For pointers, the <code>*</code> character should be placed by the variable name, like <code>char *var</code>, <code>void **array</code>.</li>
</ul>
<h2><a class="anchor" id="Example"></a>
Example</h2>
<div class="fragment"><pre class="fragment">    <span class="comment">/* @file   MyClass.cc</span>
<span class="comment">       @author Alex Smith &lt;alex@alex-smith.me.uk&gt;</span>
<span class="comment">       @brief  A useless class to demonstrate stuff. * /</span>
<span class="comment">    </span>
<span class="comment">    /* Macro that does something. * /</span>
<span class="comment">    #define MY_MACRO(p) DoSomething((p))</span>
<span class="comment">    </span>
<span class="comment">    /* * Class to demonstrate coding style. * /</span>
<span class="comment">    class MyClass {</span>
<span class="comment">    friend class OtherClass;</span>
<span class="comment">    public:</span>
<span class="comment">        /* Constructor for MyClass.</span>
<span class="comment">           @param num  A number that&#39;ll get some stuff done to it.</span>
<span class="comment">           @param str  A string because I felt like it.</span>
<span class="comment">           @param addr An address of something. * /</span>
<span class="comment">        MyClass(int num, const char *str, void *addr);</span>
<span class="comment"></span>
<span class="comment">        /* Random function that does some stuff.</span>
<span class="comment">           @param num  Number that has some stuff done to it.</span>
<span class="comment">           @return     Always returns 0. * /</span>
<span class="comment">        int MyFunction(int num);</span>
<span class="comment">    private:</span>
<span class="comment">        int m_number;</span>
<span class="comment">        const char *m_string;</span>
<span class="comment">        void *m_addr;</span>
<span class="comment">    }</span>
<span class="comment">    </span>
<span class="comment">    MyClass::MyClass(int num, const char *str, void *addr) :</span>
<span class="comment">        m_number(num + 1234), m_string(str), m_addr(addr)</span>
<span class="comment">    {</span>
<span class="comment">        printf(&quot;Constructed some stuffs.\n&quot;);</span>
<span class="comment">    }</span>
<span class="comment">    </span>
<span class="comment">    int MyClass::MyFunction(int num) {</span>
<span class="comment">        if(num &gt; 42) {</span>
<span class="comment">                printf(&quot;You lost the game\n&quot;);</span>
<span class="comment">        }</span>
<span class="comment">    </span>
<span class="comment">        switch(num) {</span>
<span class="comment">        case 0:</span>
<span class="comment">                printf(&quot;Your zeros, I haz tem.\n&quot;);</span>
<span class="comment">                break;</span>
<span class="comment">        default:</span>
<span class="comment">                printf(&quot;You gave me another number\n&quot;);</span>
<span class="comment">                break;</span>
<span class="comment">        }</span>
<span class="comment">    </span>
<span class="comment">        return 0;</span>
<span class="comment">    }</span>
<span class="comment">    </span>
<span class="comment">    /* Another function.</span>
<span class="comment">       @bug             This function is recursive and will fall off the stack</span>
<span class="comment">                        eventually.</span>
<span class="comment">       @param addr      Address of something.</span>
<span class="comment">       @param lots      A useless number.</span>
<span class="comment">       @param of        Something else.</span>
<span class="comment">       @param function  Another argument.</span>
<span class="comment">       @param arguments A pointer to a string of some sort. * /</span>
<span class="comment">    static void OtherFunction(void *addr, int lots, MyClass **of, int function,</span>
<span class="comment">                              const char *arguments) {</span>
<span class="comment">        OtherFunction(addr + addr, lots + function, of, function + arguments,</span>
<span class="comment">                      arguments - lots);</span>
<span class="comment">    }</span>
</pre></div> </div>
<hr class="footer"/><address class="footer"><small>Generated on Wed Sep 29 2010 17:04:02 for Horizon by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
